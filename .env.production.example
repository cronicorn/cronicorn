# Production Environment Configuration
# Copy this to .env.production and fill in with real values

# Image Configuration (for published containers)
IMAGE_REGISTRY=ghcr.io/cronicorn/cronicorn
IMAGE_TAG=latest  # Use specific version like v1.2.3 for production

# Docker Compose
DB_PORT=5432
DB_RESTART=unless-stopped

# Database Container (used by postgres container)
POSTGRES_USER=cronicorn_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=cronicorn_prod

# Database Connection (for containerized services - uses container hostname)
DATABASE_URL=postgresql://cronicorn_user:CHANGE_ME_STRONG_PASSWORD@cronicorn-prod-db:5432/cronicorn_prod

# Better Auth (required for API)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32
BETTER_AUTH_URL=https://api.cronicorn.com
WEB_URL=https://cronicorn.com
API_URL=https://api.cronicorn.com

# GitHub OAuth (required for authentication)
# Create production OAuth app at: https://github.com/settings/developers
# Callback URL: https://api.cronicorn.com/api/auth/callback/github
GITHUB_CLIENT_ID=your_production_github_client_id
GITHUB_CLIENT_SECRET=your_production_github_client_secret

# Server
PORT=3333
NODE_ENV=production

# AI Scheduler (optional - leave blank to disable AI features)
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your_openai_api_key_here
AI_MODEL=gpt-4o-mini              # Recommended for cost
AI_ANALYSIS_INTERVAL_MS=300000    # 5 minutes
AI_LOOKBACK_MINUTES=5             # Only analyze recent activity
AI_MAX_TOKENS=500                 # Keep responses concise
AI_TEMPERATURE=0.7                # Balance creativity/consistency

# Stripe Payments (required for subscriptions)
# Setup guide: /scripts/README.md
# 1. Get production API key from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here

# 2. Run setup script with production credentials
STRIPE_PRICE_PRO=price_your_pro_monthly_price_id
STRIPE_PRICE_ENTERPRISE=price_your_enterprise_monthly_price_id

# 3. Get webhook secret from production endpoint setup
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret_here

# 4. Production domain
BASE_URL=https://cronicorn.com

# Web UI Configuration
# API Server URL for UI (used by Vite in web app)
VITE_API_URL=https://api.cronicorn.com
